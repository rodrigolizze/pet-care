<h1>Busca de Pet Sitters</h1>

<%= form_with url: root_path, method: :get, local: true do |form| %>
  <%= form.label :city, "Cidade" %><br>
  <%= form.text_field :city, value: params[:city] %><br><br>

  <%= form.label :date, "Data de Disponibilidade" %><br>
  <%= form.date_field :date, value: params[:date] %><br><br>

  <%= form.submit "Buscar" %>
<% end %>

<hr>

<% if @sitters.present? && @sitters.any? %>
  <% @sitters.each do |sitter| %>
    <div>
      <p><strong>Nome:</strong> <%= sitter.name %></p>
      <p><strong>EndereÃ§o:</strong> <%= sitter.address %></p>
      <p><strong>Email:</strong> <%= sitter.email %></p>
      <p><strong>Disponibilidades:</strong></p>
      <ul>
        <% sitter.availabilities.each do |availability| %>
          <li><%= availability.date.strftime("%d/%m/%Y") %></li>
        <% end %>
      </ul>
    </div>
    <hr>
  <% end %>
<% else %>
  <p>Nenhum sitter encontrado</p>
<% end %>
