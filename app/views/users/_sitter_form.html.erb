<h1><%= current_user.sitter? ? "Editar informações do Cuidador" : "Torne-se um Cuidador" %></h1>

<%= form_with model: current_user,
              url: current_user.sitter? ? update_sitter_users_path : become_sitter_users_path,
              method: current_user.sitter? ? :patch : :post,
              local: true do |f| %>

  <div class="mb-3">
    <%= f.label :bio, "Sobre" %>
    <%= f.text_area :bio, class: "form-control", placeholder: "Fale sobre sua rotina, preferência e cuidados que oferece" %>
  </div>

  <div class="mb-3">
    <%= f.label :experience, "Experiência" %>
    <%= f.text_area :experience, class: "form-control", placeholder: "Inclua certificações, fale sobre sua experiência com pets" %>
  </div>

  <div class="d-inline-block mb-3">
    <%= f.label :property_type, "Moro em:" %>
    <%= f.select :property_type,
                  options_for_select(
                    User::PROPERTY_TYPES.map { |p| p == "house" ? ["Casa", p] : ["Apartamento", p] },
                    current_user.property_type),
                  include_blank: "Selecione..." %>

    <%= f.label :animal_sizes, "Aceito animais:" %>
    <%= f.select :animal_sizes,
                  options_for_select(
                    User::ANIMAL_SIZES.map { |a|
                      case a
                      when "small" then ["Pequeno", a]
                      when "medium" then ["Médio", a]
                      when "big" then ["Grande", a]
                      when "all" then ["Todos", a]
                      end
                    },
                    current_user.animal_sizes),
                  include_blank: "Selecione..." %>
  </div>

  <div class="d-flex justify-content-between">
    <div>
      <%= f.label :backyard, "Possui área externa" %>
      <%= f.check_box :backyard %>
    </div>
    <div>
      <%= f.label :has_pet, "Tem animais" %>
      <%= f.check_box :has_pet %>
    </div>
    <div>
      <%= f.label :screened_windows, "Janelas teladas" %>
      <%= f.check_box :screened_windows %>
    </div>
  </div>

  <br>

  <div>
    <button type="submit" class="btn <%= current_user.sitter? ? 'btn-warning' : 'btn-primary' %>">
      <i class="fa-solid <%= current_user.sitter? ? 'fa-pen' : 'fa-paw' %>"></i>
      <%= current_user.sitter? ? "Atualizar informações" : "Torne-se um Cuidador" %>
    </button>
  </div>
<% end %>